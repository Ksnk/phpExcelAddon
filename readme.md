#Еще один шаблонизатор

Изначально, шаблонизатор предназначался для работы в phpExcel, что значит, что все основные конструкции языка полностью помещаются в одну ячейку.

Требования к особой скорости выполнения в этом случае не ставилось, так как вывод документа наружу не обязан быть моментальным, тем более сам phpExcel не особенно быстр.

todo: Предполагается использовать шаблонизатор для генерации документов с помощью FPDF - генерация простого html шаблона. Генерация документа Word. 

## Идеологическая база

Работа шаблонизатора заключается в выполнении  конструкций языка в каждой ячейке документа, сверху-вниз-справа-налево. При этом создается карта ячеек документа, каждая новая ячейка получает ссылку на ту, стили которой используются для ее генерации. 
Таким образом, на первом этапе выполняется вычисление всего массива данных, на втором этапе происходит модификация документа, используя копирование ячеек в нужные места, на последнем - данные заносятся в ячейки и документ выводится.

Данными для шаблонизатора служит ассоциативный массив. Возможна динамическая генерация данных. 

Конструкции языка заключены в двойные фигурные скобки `{{ }}`.

##Конструкции языка

Основной конструкцией является ссылка на элемент массива данных. `item[23].name` для входного массива данных

    [ item: [ 0:...
     23:['name':'Товар №1', 'price': 234567 ...]
    ]

выведет `Товар №1`

Можно использовать не имена полей объекта, а  константные значения - цифры или литеральные значения, в этом случае нужно использовать вырезку. Цифры - обычное изображение числа, литералы заключены в одинарные или двойные кавычки

Например те же данные выводит конструкция `item[23]['name']` 

К ссылкам или литералам могут применяться функции. Функции записываются в суффиксной форме, либо в традиционной

Суффиксная запись `item[23].price|num2str` выведет цену прописью с рублями и копейками - 

То же самое можно записать в традиционной нотации
`num2str(item[23].price)`

##Управляющие конструкции

`[item` - вызовет перебор элементов массива item выходных данных. Символ `]` завершает цикл.

Более современная конструкиця {{for item.order as key=>i}} описывает пару новых переменных цикла, которые пробегают все ключи и значения цикла. {{endfor}} - парная конструкция  -окончание цикла.

Внутри тела цикла конструкция `item.name` будет указывать на элемент `name` текущего перебираемого элемента цикла. Вообще говоря - выполнение цикла означает образование дополнительной области видимости, доступной по имени item

Внутри тела цикла можно использовать функцию `index` - значение счетчика цикла от 1,   


